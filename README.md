# OpenAI-VolcanoProxy

åŸºäºFlaskçš„ä¸­é—´å±‚ä»£ç†æœåŠ¡ï¼Œç”¨äºå°†OpenAIæ ¼å¼çš„APIè¯·æ±‚è½¬å‘è‡³ç«å±±å¼•æ“çš„æ·±åº¦å­¦ä¹ æ¨¡å‹æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ æ— ç¼å…¼å®¹OpenAI APIæ ¼å¼
- ğŸ”€ æ”¯æŒå¤šæ¨¡å‹åç§°æ˜ å°„ï¼ˆDeepSeekç³»åˆ—æ¨¡å‹ï¼‰
- ğŸŒŠ å®Œæ•´çš„æµå¼å“åº”æ”¯æŒ
- ğŸ”§ å…¨å‚æ•°é€ä¼ èƒ½åŠ›
- ğŸ”’ ç«å±±å¼•æ“APIå¯†é’¥è®¤è¯

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.7+
- Flask 2.0+
- requests 2.25+

### å®‰è£…æ­¥éª¤
```bash
git clone https://github.com/yourusername/OpenAI-VolcanoProxy.git
cd OpenAI-VolcanoProxy
pip install -r requirements.txt
```

### é…ç½®è¯´æ˜
1. éƒ¨ç½²åˆ°å¯è®¿é—®ç«å±±å¼•æ“æœåŠ¡çš„æœåŠ¡å™¨
2. æœåŠ¡é»˜è®¤è¿è¡Œåœ¨5000ç«¯å£ï¼ˆé€šè¿‡`app.run()`å‚æ•°å¯è°ƒï¼‰
3. æ— éœ€é¢å¤–é…ç½®ï¼Œç›´æ¥ä½¿ç”¨ç«å±±å¼•æ“APIå¯†é’¥å³å¯

### APIä½¿ç”¨
**åŸºç¡€è¯·æ±‚ç¤ºä¾‹ï¼š**
```bash
curl http://localhost:5000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_VOLC_AK" \  # ç«å±±å¼•æ“APIå¯†é’¥
  -d '{
    "model": "deepseek-v3",
    "messages": [{"role": "user", "content": "ä½ å¥½"}],
    "temperature": 0.7
  }'
```

**æµå¼å“åº”ç¤ºä¾‹ï¼š**
```bash
curl http://localhost:5000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_VOLC_AK" \
  -d '{
    "model": "deepseek-r1-distill-qwen-7b",
    "messages": [{"role": "user", "content": "è§£é‡Šé‡å­è®¡ç®—"}],
    "stream": true
  }'
```

## å®Œæ•´æ¨¡å‹æ˜ å°„è¡¨
| å®¢æˆ·ç«¯æ¨¡å‹åç§°                  | ç«å±±å¼•æ“æ¨¡å‹ID           |
|---------------------------------|--------------------------|
| `deepseek-r1`                   | `ep-20250218144306-sshj5`|
| `deepseek-v3`                   | `ep-20250218170310-pvmdb`|
| `deepseek-r1-distill-qwen-7b`   | `ep-20250218182157-7rdv4`|
| `deepseek-r1-distill-qwen-32b`  | `ep-20250218182233-vxkqv`|

## å‚æ•°æ”¯æŒ
æ”¯æŒæ‰€æœ‰OpenAIå…¼å®¹å‚æ•°ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
- `temperature`ï¼šå“åº”éšæœºæ€§ï¼ˆ0-2ï¼‰
- `top_p`ï¼šæ ¸å¿ƒé‡‡æ ·æ¦‚ç‡ï¼ˆ0-1ï¼‰
- `max_tokens`ï¼šæœ€å¤§è¾“å‡ºtokenæ•°ï¼ˆæœ€é«˜æ”¯æŒ4000ï¼‰
- `presence_penalty`ï¼šè¯é¢˜æ–°é²œåº¦ï¼ˆ-2-2ï¼‰
- `frequency_penalty`ï¼šé‡å¤æƒ©ç½šï¼ˆ-2-2ï¼‰

## æ ¸å¿ƒæ³¨æ„äº‹é¡¹
1. **å¯†é’¥è®¤è¯**ï¼šå¿…é¡»ä½¿ç”¨æœ‰æ•ˆçš„[ç«å±±å¼•æ“API Key](https://console.volcengine.com/)
2. **æ¨¡å‹ç‰ˆæœ¬**ï¼šä¸åŒæ¨¡å‹å‚æ•°æ”¯æŒèŒƒå›´å¯èƒ½ä¸åŒï¼Œå»ºè®®å‚è€ƒå®˜æ–¹æ–‡æ¡£
3. **è¶…æ—¶æœºåˆ¶**ï¼šé»˜è®¤30åˆ†é’Ÿè¶…æ—¶ï¼Œé•¿æ–‡æœ¬ç”Ÿæˆå»ºè®®é€‚å½“è°ƒæ•´
4. **é”™è¯¯å¤„ç†**ï¼šHTTP 500é”™è¯¯è¡¨ç¤ºç«å±±å¼•æ“æœåŠ¡ç«¯å¼‚å¸¸
5. **æµå¼å“åº”**ï¼š`stream: true`æ—¶è¿”å›text/event-streamæ ¼å¼æ•°æ®
6. **é»˜è®¤æ¨¡å‹**ï¼šå½“ä½¿ç”¨æœªæ˜ å°„æ¨¡å‹æ—¶è‡ªåŠ¨å›é€€åˆ°deepseek-r1

## æœåŠ¡ç›‘æ§
å»ºè®®ç›‘æ§ä»¥ä¸‹æŒ‡æ ‡ï¼š
- è¯·æ±‚æˆåŠŸç‡
- å¹³å‡å“åº”å»¶è¿Ÿ
- æ¨¡å‹è°ƒç”¨åˆ†å¸ƒ
- å¼‚å¸¸å“åº”ç»Ÿè®¡

## æˆæƒåè®®
[MIT License](LICENSE)

---

> **æ¨¡å‹é€‰æ‹©å»ºè®®**  
> 7Bæ¨¡å‹ï¼šé€‚åˆé€šç”¨åœºæ™¯å’Œå¿«é€Ÿå“åº”  
> 32Bæ¨¡å‹ï¼šé€‚åˆå¤æ‚æ¨ç†ä»»åŠ¡  
> R1ç³»åˆ—ï¼šå¹³è¡¡ç²¾åº¦ä¸é€Ÿåº¦  
> V3ç³»åˆ—ï¼šæœ€æ–°ä¼˜åŒ–ç‰ˆæœ¬

> **æŠ€æœ¯æ”¯æŒ**  
> æ¨¡å‹æœåŠ¡ç›¸å…³é—®é¢˜è¯·è”ç³»ç«å±±å¼•æ“æŠ€æœ¯å›¢é˜Ÿ  
> ä»£ç†å±‚é—®é¢˜è¯·æäº¤GitHub Issue
